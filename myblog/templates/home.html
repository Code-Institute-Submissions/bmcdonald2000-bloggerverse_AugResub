<!-- Extends the base template -->
{% extends 'base.html' %}

<!-- Template title -->
{% block title%} Home {% endblock %}

<!-- Template content -->
{% block content %}
    <!-- line break -->
    <br/>
    <!-- page header -->
    <h1 id="heading"> Welcome to the Bloggerverse </h1>
    <!-- line break -->
    <br/>
    <!-- All posts are displayed on bootstrap cards --> 
    {% for Post in object_list %}
            <!-- boostrap card -->
            <div class="card">
                <div class="card border-secondary ">
                    <!-- If the blog post has an image that image is displayed --> 
                    {% if Post.image %}
                        <img class="card-img-top" src="{{ Post.image.url }}" style="max-height: 500px" alt=" blog image ">
                    <!-- else the default image is used --> 
                    {% else %}
                        <img class="card-img-top" src="{{'static/images/post.jpg'}}" style="max-height: 500px" alt=" blog image ">
                    {% endif %}
                    <!-- boostrap card body -->
                        <div class="card-body">
                            <h5 class="card-title">
                                <!-- makes the blog title a link by using django url. '|title' capitalises first letter of the title --> 
                                <a href="% url 'details' Post.pk %" target="_blank">{{Post.title|title}}</a> 
                            </h5>
                            <!-- post summary is displayed --> 
                            <p2>{{Post.summary}}</p>

                            <!-- creates a divider  -->
                            <hr>
                            <!-- displays post authors name, date of post and number of likes -->
                            <p class="card-text">by {{Post.author.first_name}} {{Post.author.last_name}} - {{ Post.date }} </p>
                            <small>
                                <!-- Logged in user can edit and delete their own posts --> 
                                {% if user.is_authenticated %}
                                    {% if user.id == Post.author.id %}
                                        <a href="{% url'edit'Post.pk %}" target="_blank">Edit</a>
                                    {% endif %}
                                {% endif %}
                            </small>
                        </div>
                </div>
            </div>
            <br>
    {% endfor%}
    <br><br><br><br><br/>
{% endblock %}